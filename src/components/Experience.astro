---
import ExperienceItem from "./ExperienceItem.astro";
import { getI18N } from "../i18n";
import { getLangFromUrl } from "../i18n/utils";

const currentLocale = getLangFromUrl(Astro.url);
const i18n = getI18N({ currentLocale });

const experiences = [
	{
		company: "Vueling Airlines",
		role: "Frontend Developer",
		date: `Nov 2024 - ${i18n.EXPERIENCE_PRESENT}`,
		description: i18n.EXPERIENCE_DESCRIPTION_VUELING,
		isCurrent: true,
		points:
			currentLocale === "ca"
				? [
						"<strong>Desenvolupament d'Alt Impacte:</strong> Desenvolupant aplicacions <strong>Angular d'alt trànsit</strong> escalables, assegurant l'estabilitat per a milers d'usuaris diaris.",
						"<strong>Estàndards Enterprise:</strong> Implementant pràctiques rigoroses de qualitat de codi i millors pràctiques en un entorn empresarial complex.",
						"<strong>Col·laboració Àgil:</strong> Treballant en equips multidisciplinaris (Desktop, Mobile, UX) sota strictes metodologies <strong>Agile/Scrum</strong> per lliurar solucions robustes.",
					]
				: currentLocale === "es"
					? [
							"<strong>Desarrollo de Alto Impacto:</strong> Desarrollando aplicaciones <strong>Angular de alto tráfico</strong> escalables, asegurando la estabilidad para miles de usuarios diarios.",
							"<strong>Estándares Enterprise:</strong> Implementando prácticas rigurosas de calidad de código y mejores prácticas en un entorno empresarial complejo.",
							"<strong>Colaboración Ágil:</strong> Trabajando en equipos multidisciplinares (Desktop, Mobile, UX) bajo estrictas metodologías <strong>Agile/Scrum</strong> para entregar soluciones robustas.",
						]
					: [
							"<strong>High-Impact Development:</strong> Developing scalable, <strong>high-traffic Angular applications</strong> ensuring stability for thousands of daily users.",
							"<strong>Enterprise Standards:</strong> Implementing rigorous code quality practices and best practices in a complex enterprise environment.",
							"<strong>Agile Collaboration:</strong> Working within cross-functional teams (Desktop, Mobile, UX) under strict <strong>Agile/Scrum</strong> methodologies to deliver robust solutions.",
						],
		colorClass: "bg-yellow-500",
		titleColor: "text-yellow-500",
		icon: "flight_takeoff",
	},
	{
		company: "Brothapps",
		role: "Full-Cycle Frontend Developer",
		date: `Oct 2021 - Oct 2024`,
		description: i18n.EXPERIENCE_DESCRIPTION_BROTHAPPS,
		points:
			currentLocale === "ca"
				? [
						"<strong>Desenvolupament Core:</strong> Construcció i manteniment de web apps escalables utilitzant <strong>Next.js</strong> i <strong>Astro</strong>, assegurant alt rendiment i optimització SEO.",
						"<strong>Integracions:</strong> Implementació de serveis crítics de tercers incloent <strong>Stripe</strong> per a pagaments i <strong>Firebase/Firestore</strong> per a dades en temps real.",
						"<strong>Qualitat de Codi:</strong> Refactorització de codi llegat per millorar la mantenibilitat i el rendiment (Clean Code i metodologia BEM).",
						"<strong>Eines d'Administració:</strong> Desenvolupament d'interfícies de dashboard personalitzades per a la gestió interna de producte.",
					]
				: currentLocale === "es"
					? [
							"<strong>Desarrollo Core:</strong> Construcción y mantenimiento de web apps escalables utilizando <strong>Next.js</strong> y <strong>Astro</strong>, asegurando alto rendimiento y optimización SEO.",
							"<strong>Integraciones:</strong> Implementación de servicios críticos de terceros incluyendo <strong>Stripe</strong> para pagos y <strong>Firebase/Firestore</strong> para datos en tiempo real.",
							"<strong>Calidad de Código:</strong> Refactorización de código legado para mejorar la mantenibilidad y el rendimiento (Clean Code y metodología BEM).",
							"<strong>Herramientas de Administración:</strong> Desarrollo de interfaces de dashboard personalizadas para la gestión interna de producto.",
						]
					: [
							"<strong>Core Development:</strong> Built and maintained scalable web apps using <strong>Next.js</strong> and <strong>Astro</strong>, ensuring high performance and SEO optimization.",
							"<strong>Integrations:</strong> Implemented critical third-party services including <strong>Stripe</strong> for payments and <strong>Firebase/Firestore</strong> for real-time data.",
							"<strong>Code Quality:</strong> Refactored legacy codebases to improve maintainability and performance (Clean Code & BEM methodology).",
							"<strong>Admin Tools:</strong> Developed custom dashboard interfaces for internal product management.",
						],
		colorClass: "bg-blue-600",
		titleColor: "text-blue-600",
		icon: "laptop_mac",
	},
];
---

<section
	id='experience'
	class='grid grid-cols-1 lg:grid-cols-2 gap-6'
>
	<h2
		class='col-span-1 lg:col-span-2 text-3xl font-bold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-800 pb-4 mb-2 flex items-center'
	>
		{i18n.EXPERIENCE_TITLE}
		<span class='ml-2 w-2 h-2 bg-primary rounded-full'></span>
	</h2>

	{experiences.map((exp) => <ExperienceItem {...exp} />)}
</section>
